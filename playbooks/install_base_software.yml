---
- name: Install baseline software
  hosts: homelab
  become: true 

  tasks:
    - name: Install baseline software for Debian systems
      apt:
        name: "{{ item }}"
        state: present
      loop:   
        - firewalld
        - lvm2
        - autofs 
        - vim 
        - docker 
        - podman 
        - git 
      when: ansible_distribution == 'Debian' 

    - name: Install baseline software for Redhat systems
      dnf:
        name: "{{ item }}"
        state: present
      loop:   
        - firewalld
        - lvm2
        - autofs 
        - vim 
        - docker 
        - podman 
        - git 
      when: ansible_distribution == 'RedHat'    
